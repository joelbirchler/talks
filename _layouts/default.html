<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>{{ page.title }}</title>
    <link rel="stylesheet" href="stylesheets/normalize.css">
    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
    <script src="javascripts/index.js"></script>
  </head>
  <body>
    {% for slide in site.data[{{page.slides}}] %}
        <section class="{{ slide.style }}">
          
          {% if slide.title %}
            <h1>{{ slide.title }}</h1>
          {% endif %}

          {% if slide.heading %}
            <h2>{{ slide.heading }}</h2>
          {% endif %}
          
          {% if slide.text %}
            <p>{{ slide.text }}</p>
          {% endif %}

          {% if slide.bullets %}
            <ul>
            {% for bullet in slide.bullets %}
              <li>{{ bullet }}</li>
            {% endfor %}
            </ul>
          {% endif %}

          {% for code in slide.code %}
            {% capture lang %}{{ code | split:'.' | last }}{% endcapture %}
            {% case lang %}
            {% when 'rb' %}
              {% highlight ruby %}{% include {{code}} %}{% endhighlight %}
            {% when 'er' %}
              {% highlight erlang %}{% include {{code}} %}{% endhighlight %}
            {% when 'hs' %}
              {% highlight haskell %}{% include {{code}} %}{% endhighlight %}
            {% when 'java' %}
              {% highlight java %}{% include {{code}} %}{% endhighlight %}
            {% when 'lisp' or 'cl' %}
              {% highlight lisp %}{% include {{code}} %}{% endhighlight %}
            {% else %}
              {% highlight javascript %}{% include {{code}} %}{% endhighlight %}
            {% endcase %}
          {% endfor %}

        </section>
    {% endfor %}
  </body>
</html>