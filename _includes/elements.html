{% if slide.title %}
  <h1>{{ slide.title }}</h1>
{% endif %}

{% if slide.heading %}
  <h2>{{ slide.heading }}</h2>
{% endif %}

{% if slide.text %}
  <p>{{ slide.text }}</p>
{% endif %}

{% if slide.bullets %}
  <ul>
  {% for bullet in slide.bullets %}
    <li>{{ bullet }}</li>
  {% endfor %}
  </ul>
{% endif %}

{% for code in slide.code %}
  {% if code contains '(' %}
    <p>{{ code | remove: '(' | remove: ')' }}</p>
  {% else %}
    {% capture lang %}{{ code | split:'.' | last }}{% endcapture %}
    {% case lang %}
    {% when 'rb' %}
      {% highlight ruby %}{% include {{code}} %}{% endhighlight %}
    {% when 'py' %}
      {% highlight python %}{% include {{code}} %}{% endhighlight %}
    {% when 'er' %}
      {% highlight erlang %}{% include {{code}} %}{% endhighlight %}
    {% when 'hs' %}
      {% highlight haskell %}{% include {{code}} %}{% endhighlight %}
    {% when 'java' %}
      {% highlight java %}{% include {{code}} %}{% endhighlight %}
    {% when 'lisp' or 'cl' %}
      {% highlight lisp %}{% include {{code}} %}{% endhighlight %}
    {% else %}
      {% highlight javascript %}{% include {{code}} %}{% endhighlight %}
    {% endcase %}
  {% endif %}
{% endfor %}